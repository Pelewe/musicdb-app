"use strict";(self.webpackChunkmusicdb_app=self.webpackChunkmusicdb_app||[]).push([[986],{7986:(et,C,o)=>{o.r(C),o.d(C,{HomeModule:()=>W});var l=o(9808),p=o(1083),v=o(5698),A=o(5577),m=o(9646),b=o(515),t=o(5e3),R=o(4482),S=o(5403),M=o(4671),_=o(5963),F=o(8421);function d(n=1/0){let i;i=n&&"object"==typeof n?n:{count:n};const{count:e=1/0,delay:r,resetOnSuccess:s=!1}=i;return e<=0?M.y:(0,R.e)((a,c)=>{let u,f=0;const T=()=>{let O=!1;u=a.subscribe((0,S.x)(c,h=>{s&&(f=0),c.next(h)},void 0,h=>{if(f++<e){const Z=()=>{u?(u.unsubscribe(),u=null,T()):O=!0};if(null!=r){const tt="number"==typeof r?(0,_.H)(r):(0,F.Xf)(r(h,f)),y=(0,S.x)(c,()=>{y.unsubscribe(),Z()},()=>{c.complete()});tt.subscribe(y)}else Z()}else c.error(h)})),O&&(u.unsubscribe(),u=null,T())};T()})}var w=o(262),U=o(2340),x=o(520);let E=(()=>{class n{constructor(e){this.httpClient=e,this.MAX_RETRIES=0,this.TIME_OUT=4e4,this.ROOT_URL=U.N.DEEZER_API}post(e,r,s){return this.httpClient.post(this.ROOT_URL+e,r,{params:s}).pipe(d(this.MAX_RETRIES))}get(e,r,s,a,c){return c||(c="json"),this.httpClient.get(this.ROOT_URL+e,{params:s,headers:a,responseType:c}).pipe(d(this.MAX_RETRIES),(0,w.K)(f=>(0,m.of)("Request timed out after")))}put(e,r,s){return this.httpClient.put(this.ROOT_URL+e,r).pipe(d(this.MAX_RETRIES))}patch(e,r,s){return this.httpClient.patch(this.ROOT_URL+e,r).pipe(d(this.MAX_RETRIES))}delete(e,r){return this.httpClient.delete(this.ROOT_URL+e).pipe(d(this.MAX_RETRIES))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(x.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),g=(()=>{class n{constructor(e){this.apiService=e}searchArtists(e){return this.apiService.get("/search/artist/",!1,e)}getArtist(e){return this.apiService.get(`/artist/${e}`)}getArtistTopTracks(e){return this.apiService.get(`/artist/${e}/top`)}getArtistAlbums(e){return this.apiService.get(`/artist/${e}/albums`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(E))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),I=(()=>{class n{constructor(e){this.artistService=e}resolve(e,r){const s=e.paramMap.get("id");return this.artistService.getArtistAlbums(s).pipe((0,v.q)(1),(0,A.z)(a=>a.data?(0,m.of)(a.data):b.E))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(g))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),k=(()=>{class n{constructor(e){this.artistService=e}resolve(e,r){const s=e.paramMap.get("id");return this.artistService.getArtist(s).pipe((0,v.q)(1),(0,A.z)(a=>a?(0,m.of)(a):b.E))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(g))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),z=(()=>{class n{constructor(e){this.artistService=e}resolve(e,r){const s=e.paramMap.get("id");return this.artistService.getArtistTopTracks(s).pipe((0,v.q)(1),(0,A.z)(a=>a.data?(0,m.of)(a.data):b.E))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(g))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var P=o(5245),H=o(9224);function J(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-card",2),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().viewAlbum(a)}),t.TgZ(1,"div"),t._UZ(2,"img",3),t.qZA(),t.TgZ(3,"div",4)(4,"p")(5,"span")(6,"h2"),t._uU(7),t.qZA()()(),t.TgZ(8,"p")(9,"span")(10,"h2"),t._uU(11),t.qZA()()()()()}if(2&n){const e=i.$implicit;t.xp6(2),t.Q6J("src",null==e?null:e.cover_medium,t.LSH),t.xp6(5),t.Oqu(null==e?null:e.title),t.xp6(4),t.Oqu(null==e?null:e.release_date)}}let L=(()=>{class n{constructor(){}ngOnInit(){}viewAlbum(e){console.log(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-artist-albums-view"]],inputs:{albums:"albums"},decls:2,vars:1,consts:[[1,"row","d-flex"],["class","col-lg-3 shadow-sm p-3 mb-5 bg-body rounded card-color","style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[1,"col-lg-3","shadow-sm","p-3","mb-5","bg-body","rounded","card-color",2,"cursor","pointer",3,"click"],[3,"src"],[1,"d-flex","flex-column"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t.YNc(1,J,12,3,"mat-card",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",r.albums))},directives:[l.sg,H.a8],styles:[".card-dark[_ngcontent-%COMP%]{-webkit-box-flex:1;background:#181818;border-radius:calc(var(--card-container-border-radius) + 2px);flex:1;isolation:isolate;padding:16px;position:relative;transition:background-color .3s ease;width:100%}.card-color[_ngcontent-%COMP%]{background-image:linear-gradient(to right top,#ffffff,#ecf5ff,#c6f0ff,#8ceeff,#3decfb)}"]}),n})();function q(n,i){if(1&n&&(t.TgZ(0,"li",14)(1,"div",15)(2,"div",16),t._uU(3),t.qZA()(),t.TgZ(4,"div"),t._uU(5),t.ALo(6,"date"),t.qZA()()),2&n){const e=i.$implicit,r=i.index;t.xp6(3),t.AsE(" ",r+1,". ",null==e?null:e.title,""),t.xp6(2),t.Oqu(t.Dn7(6,3,1e3*(null==e?null:e.duration),"mm:ss","UTC"))}}let Y=(()=>{class n{constructor(e,r){this.route=e,this.router=r,this.topTracks=[],this.albums=[]}ngOnInit(){this.route.data.subscribe(e=>{this.artistData=null==e?void 0:e.artist,this.topTracks=null==e?void 0:e.toptracks,this.albums=null==e?void 0:e.albums})}goBack(){this.router.navigate(["home"])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.gz),t.Y36(p.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-artist-view"]],decls:30,vars:7,consts:[[1,"row"],[1,"d-flex","justify-content-start"],[3,"click"],[1,"row","d-flex","align-items-center","my-4","shadow-sm","p-3","mb-5","bg-body","card-color","rounded"],[1,"col-md-8"],[1,"card","bg-dark","text-white"],["alt","Card image",1,"card-img",2,"max-height","330px",3,"src"],[1,"card-img-overlay"],[1,"card-title"],[1,"card-text"],[1,"col-md-4","track-border"],[1,"list-group"],["class"," d-flex justify-content-between align-items-start bordered",4,"ngFor","ngForOf"],[3,"albums"],[1,"d-flex","justify-content-between","align-items-start","bordered"],[1,"ms-2","me-auto"],[1,"fw-bold","mt-3"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t.NdJ("click",function(){return r.goBack()}),t.TgZ(3,"mat-icon"),t._uU(4,"arrow_back"),t.qZA(),t.TgZ(5,"h5"),t._uU(6,"Back"),t.qZA()()()(),t.TgZ(7,"div",3)(8,"div",4)(9,"div",5),t._UZ(10,"img",6),t.TgZ(11,"div",7)(12,"h1",8)(13,"b"),t._uU(14),t.qZA()(),t.TgZ(15,"p",9)(16,"i"),t._uU(17),t.ALo(18,"number"),t.qZA(),t._uU(19," Fans"),t.qZA()()()(),t.TgZ(20,"div",10)(21,"h2"),t._uU(22,"Top tracks"),t.qZA(),t.TgZ(23,"ul",11),t.YNc(24,q,7,7,"li",12),t.qZA()()(),t.TgZ(25,"div")(26,"h3")(27,"b"),t._uU(28,"ALBUMS"),t.qZA()(),t._UZ(29,"app-artist-albums-view",13),t.qZA()),2&e&&(t.xp6(10),t.Q6J("src",null==r.artistData?null:r.artistData.picture_big,t.LSH),t.xp6(4),t.Oqu(null==r.artistData?null:r.artistData.name),t.xp6(3),t.Oqu(t.lcZ(18,5,null==r.artistData?null:r.artistData.nb_fan)),t.xp6(7),t.Q6J("ngForOf",r.topTracks),t.xp6(5),t.Q6J("albums",r.albums))},directives:[P.Hw,l.sg,L],pipes:[l.JJ,l.uU],styles:[".bordered[_ngcontent-%COMP%]{border-bottom:1px solid #0dcaf0;height:60px}.bordered[_ngcontent-%COMP%]:last-child{border-bottom:none}.track-border[_ngcontent-%COMP%]{border:1px solid #0dcaf0}p[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{color:#fff!important}.card-color[_ngcontent-%COMP%]{background-image:linear-gradient(to right top,#ffffff,#ecf5ff,#c6f0ff,#8ceeff,#3decfb)}"]}),n})();var N=o(9328),V=o(2286);function j(n,i){if(1&n&&(t.TgZ(0,"div",5)(1,"div"),t._UZ(2,"img",6),t.TgZ(3,"p",7),t._uU(4),t.qZA()()()),2&n){const e=t.oxw();t.xp6(4),t.Oqu(e.noDataMessage)}}function D(n,i){1&n&&(t.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"span",11),t._uU(4,"Loading..."),t.qZA()()()())}function X(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",12)(1,"div",13),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().viewArtist(a)}),t._UZ(2,"img",14),t.TgZ(3,"div",15)(4,"h3",16)(5,"b"),t._uU(6),t.qZA(),t._UZ(7,"i",17),t.qZA(),t.TgZ(8,"p",18)(9,"i"),t._uU(10),t.ALo(11,"number"),t.qZA(),t._uU(12," Fans"),t.qZA()()()()}if(2&n){const e=i.$implicit;t.xp6(2),t.s9C("src",null==e?null:e.picture_big,t.LSH),t.xp6(4),t.Oqu(null==e?null:e.name),t.xp6(4),t.Oqu(t.lcZ(11,3,null==e?null:e.nb_fan))}}function $(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-paginator",19),t.NdJ("page",function(s){return t.CHM(e),t.oxw().pageEvent(s)}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("length",e.length)("pageSize",e.pageSize)("pageSizeOptions",e.pageSizeOptions)}}let Q=(()=>{class n{constructor(e,r,s){this.commService=e,this.artistService=r,this.route=s,this.length=100,this.pageSize=10,this.pageSizeOptions=[5,10,25,100],this.results=[],this.loading=!1,this.noDataMessage="Search For Artist"}ngOnInit(){}ngAfterViewInit(){this.commService.trigger$.subscribe(e=>{if(this.loading=!0,e.length>0){let r=(new x.LE).set("q",e);this.artistService.searchArtists(r).subscribe(s=>{this.length=s.total,this.results=s.data,this.pageSize=s.data.length,0==s.data.length&&(this.noDataMessage=`No search results for ${e}`),this.loading=!1})}else this.length=0,this.results=[],this.pageSize=0,this.loading=!1})}pageEvent(e){console.log(e)}viewArtist(e){this.route.navigate([`/home/${e.id}`])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(N.O),t.Y36(g),t.Y36(p.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-search-results"]],decls:5,vars:4,consts:[[1,"row"],["class","col-12 d-flex text-center align-items-center justify-content-center my-10",4,"ngIf"],["class","d-flex text-center align-items-center justify-content-center",4,"ngIf"],["class","col-md-4 my-2",4,"ngFor","ngForOf"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],[1,"col-12","d-flex","text-center","align-items-center","justify-content-center","my-10"],["src","assets/noresults.png"],[2,"font-size","16px","font-weight","400"],[1,"d-flex","text-center","align-items-center","justify-content-center"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"col-md-4","my-2"],[1,"card","bg-dark",2,"cursor","pointer",3,"click"],["alt","Card image cap",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title","border-bottom","pb-3"],[1,"fas","fa-share-alt"],[1,"card-text"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions","page"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t.YNc(1,j,5,1,"div",1),t.YNc(2,D,5,0,"div",2),t.YNc(3,X,13,5,"div",3),t.qZA(),t.YNc(4,$,1,3,"mat-paginator",4)),2&e&&(t.xp6(1),t.Q6J("ngIf",0==r.results.length&&!r.loading),t.xp6(1),t.Q6J("ngIf",r.loading),t.xp6(1),t.Q6J("ngForOf",r.results),t.xp6(1),t.Q6J("ngIf",0!=r.results.length))},directives:[l.O5,l.sg,V.NW],pipes:[l.JJ],styles:["p[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{color:#fff!important}"]}),n})();const B=[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-home"]],decls:1,vars:0,template:function(e,r){1&e&&t._UZ(0,"app-search-results")},directives:[Q],styles:[""]}),n})()},{path:":id",component:Y,resolve:{artist:k,toptracks:z,albums:I}}];let G=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.Bz.forChild(B)],p.Bz]}),n})();var K=o(5925);let W=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.ez,G,K.q]]}),n})()}}]);